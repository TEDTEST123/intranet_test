<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>TED Ãœniversitesi | Etkinlik Takvimi</title>
<style>
:root{
  --ted-navy:#002855;
  --ted-red:#C8102E;
  --bg:#f5f7fa;
  --ink:#002855;
}
html,body{height:100%;}
body{
  margin:0;
  font-family:"Segoe UI",sans-serif;
  background:var(--bg);
  color:var(--ink);
  display:flex;
  flex-direction:column;
  min-height:100vh;
}

/* Ãœst ÅŸerit */
header{
  background:var(--ted-navy);
  color:#fff;
  padding:12px 40px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}
header h1{margin:0;font-size:20px;}
nav a{
  color:#fff;
  text-decoration:none;
  margin-left:25px;
  font-weight:500;
}
nav a:hover{text-decoration:underline;}

/* Ä°Ã§erik dÃ¼zeni */
main{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:40px;
  padding:30px 60px;
}

/* Ãœst bÃ¶lÃ¼m: etkinlikler + takvim */
.top-section{
  display:flex;
  justify-content:space-between;
  gap:40px;
}
#event-list{
  flex:2;
  background:#fff;
  border-radius:8px;
  padding:20px;
  box-shadow:0 0 8px rgba(0,0,0,0.1);
}
#event-list h2{margin-top:0;}
.event{
  border-left:5px solid var(--ted-red);
  padding:10px 15px;
  margin-bottom:15px;
  background:#f9f9f9;
  border-radius:5px;
}
.event h3{margin:0;color:var(--ink);}
.event span{font-size:13px;color:#555;display:block;margin-top:4px;}

#calendar{
  flex:1;
  background:#fff;
  border-radius:8px;
  padding:20px;
  box-shadow:0 0 8px rgba(0,0,0,0.1);
  text-align:center;
}
.month{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:10px;
}
.month button{
  background:var(--ted-navy);
  color:#fff;
  border:none;
  padding:5px 10px;
  border-radius:5px;
  cursor:pointer;
}
.month button:hover{background:var(--ted-red);}
table{width:100%;border-collapse:collapse;}
th,td{padding:10px;text-align:center;cursor:pointer;}
th{color:var(--ted-red);}
td:hover{background:#e6eefc;border-radius:50%;}
.selected{background:var(--ted-navy);color:#fff;border-radius:50%;}

/* === Ä°ki Seviyeli Accordion Galeri === */
.gallery-section{
  background:#fff;
  padding:20px;
  border-radius:8px;
  box-shadow:0 0 8px rgba(0,0,0,0.1);
}
.gallery-section h2{
  margin-top:0;
  border-bottom:2px solid var(--ted-navy);
  padding-bottom:5px;
}

/* 1. seviye: YÄ±llar */
.year-item{
  margin-bottom:14px;
  border:1px solid var(--ted-navy);
  border-radius:6px;
  overflow:hidden;
}
.year-header{
  background:var(--ted-navy);
  color:#fff;
  padding:12px 15px;
  cursor:pointer;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:600;
}
.year-header:hover{background:var(--ted-red);}
.year-content{display:none; background:#f9f9f9; padding:12px 15px;}

/* 2. seviye: Etkinlikler */
.event-item{
  margin:8px 0;
  border:1px solid #cbd4e1;
  border-radius:6px;
  overflow:hidden;
}
.event-header{
  background:#eef3fb;
  color:#1d2a44;
  padding:10px 12px;
  cursor:pointer;
  display:flex;
  justify-content:space-between;
  align-items:center;
  font-weight:600;
}
.event-header:hover{background:#e2ecff;}
.event-content{display:none; padding:10px 12px; background:#fff;}

/* Thumbnail grid */
.thumb-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:10px;
}
.thumb-grid img{
  width:100%;
  height:90px;
  object-fit:cover;
  border-radius:5px;
  cursor:pointer;
  transition:0.2s;
  border:1px solid #e2e8f0;
}
.thumb-grid img:hover{transform:scale(1.05);}

/* Modal (gÃ¶rÃ¼ntÃ¼leyici + indir) */
.modal{
  position:fixed; inset:0;
  background:rgba(0,0,0,0.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:1000;
}
.modal-content{
  background:#fff;
  padding:10px;
  border-radius:10px;
  max-width:80%;
  width:700px;
  text-align:center;
  position:relative;
}
.modal-content img{
  width:100%;
  max-height:450px;
  object-fit:contain;
  border-radius:6px;
}
.close-btn, .nav-btn, .download-btn{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  background:var(--ted-navy);
  color:#fff;
  border:none;
  padding:10px 14px;
  cursor:pointer;
  border-radius:6px;
}
.close-btn{top:10px;right:15px;transform:none;}
#prevPhoto{left:10px;}
#nextPhoto{right:10px;}
.download-btn{
  top:10px; left:15px; transform:none; font-size:14px;
}
.close-btn:hover, .nav-btn:hover, .download-btn:hover{background:var(--ted-red);}

.ted-footer{
  background:var(--ted-navy);
  color:#fff;
  text-align:center;
  padding:12px 10px;
  font-size:13px;
  margin-top:auto;
}
</style>
</head>
<body>

<header>
  <h1>ðŸŽ“ TED Ãœniversitesi Etkinlik Takvimi</h1>
  <nav>
    <a href="index.html">Ana Sayfa</a>
    <a href="duyurular.html">Duyurular</a>
    <a href="etkinlikler.html">Etkinlikler</a>
    <a href="takvim.html">Akademik Takvim</a>
  </nav>
</header>

<main>
  <!-- Ãœst bÃ¶lÃ¼m: etkinlik listesi (placeholder) + takvim -->
  <div class="top-section">
    <section id="event-list">
      <h2>Etkinlikler</h2>
      <div id="events-container"><p>Bir tarih seÃ§iniz.</p></div>
    </section>

    <aside id="calendar">
      <div class="month">
        <button id="prev">&#8592;</button>
        <h3 id="month-year"></h3>
        <button id="next">&#8594;</button>
      </div>
      <table>
        <thead><tr><th>P</th><th>S</th><th>Ã‡</th><th>P</th><th>C</th><th>C</th><th>P</th></tr></thead>
        <tbody id="calendar-body"></tbody>
      </table>
    </aside>
  </div>

  <!-- Alt bÃ¶lÃ¼m: Ä°ki seviyeli galeri -->
  <section class="gallery-section">
    <h2>ðŸ“¸ Etkinlik FotoÄŸraf Galerisi</h2>
    <div id="years"></div>
  </section>
</main>

<footer class="ted-footer">
  Â© 2025 TED Ãœniversitesi â€¢ TÃ¼m HaklarÄ± SaklÄ±dÄ±r
</footer>

<!-- Modal -->
<div id="modal" class="modal">
  <div class="modal-content">
    <button class="close-btn" id="closeModal">X</button>
    <button class="download-btn" id="downloadPhoto">ðŸ“¥ Ä°ndir</button>
    <button class="nav-btn" id="prevPhoto">&#10094;</button>
    <img id="modalImage" src="" alt="Etkinlik fotoÄŸrafÄ±">
    <button class="nav-btn" id="nextPhoto">&#10095;</button>
    <h3 id="photoTitle"></h3>
  </div>
</div>

<script>
/* â€”â€”â€” Takvim (Ã¼st kÄ±sÄ±m) â€”â€”â€” */
const calendarBody=document.getElementById("calendar-body");
const monthYear=document.getElementById("month-year");
let current=new Date();
function renderCalendar(){
  const y=current.getFullYear(),m=current.getMonth();
  monthYear.textContent=current.toLocaleString("tr-TR",{month:"long",year:"numeric"});
  const firstDay=(new Date(y,m,1).getDay()||7);
  const daysInMonth=new Date(y,m+1,0).getDate();
  calendarBody.innerHTML="";
  let d=1;
  for(let i=0;i<6;i++){
    const row=document.createElement("tr");
    for(let j=1;j<=7;j++){
      const cell=document.createElement("td");
      if((i===0&&j<firstDay)||d>daysInMonth) cell.textContent="";
      else{cell.textContent=d;const date=`${y}-${String(m+1).padStart(2,"0")}-${String(d).padStart(2,"0")}`;
      cell.onclick=()=>selectDate(date,cell);d++;}
      row.appendChild(cell);
    }
    calendarBody.appendChild(row);
  }
}
let selectedCell=null;
function selectDate(date,cell){
  if(selectedCell) selectedCell.classList.remove("selected");
  cell.classList.add("selected");
  selectedCell=cell;
  document.getElementById("events-container").innerHTML=`<p>${date} tarihine ait etkinlik bulunamadÄ±.</p>`;
}
document.getElementById("prev").onclick=()=>{current.setMonth(current.getMonth()-1);renderCalendar();};
document.getElementById("next").onclick=()=>{current.setMonth(current.getMonth()+1);renderCalendar();};
renderCalendar();

/* â€”â€”â€” Ä°ki seviyeli galeri veri modeli â€”â€”â€” */
const galleryData = [
  {
    year: "2024-2025 Akademik YÄ±lÄ±",
    events: [
      {
        title: "Bilimsel AraÅŸtÄ±rma Semineri",
        folder: "galeri/2024-2025 Akademik YÄ±lÄ±/Bilimsel AraÅŸtÄ±rma Semineri",
        images: ["1.jpg","2.jpg","3.jpg"]
      },
      {
        title: "Kariyer GÃ¼nleri",
        folder: "galeri/2024-2025 Akademik YÄ±lÄ±/Kariyer GÃ¼nleri",
        images: ["1.jpg","2.jpg"]
      },
      {
        title: "Ã–ÄŸrenci Topluluk FuarÄ±",
        folder: "galeri/2024-2025 Akademik YÄ±lÄ±/Ã–ÄŸrenci Topluluk FuarÄ±",
        images: ["1.jpg","2.jpg","3.jpg","4.jpg"]
      }
    ]
  },
  {
    year: "2023-2024 Akademik YÄ±lÄ±",
    events: [
      {
        title: "Mezuniyet TÃ¶reni",
        folder: "galeri/2023-2024 Akademik YÄ±lÄ±/Mezuniyet TÃ¶reni",
        images: ["1.jpg","2.jpg"]
      },
      {
        title: "TanÄ±tÄ±m GÃ¼nleri",
        folder: "galeri/2023-2024 Akademik YÄ±lÄ±/TanÄ±tÄ±m GÃ¼nleri",
        images: ["1.jpg","2.jpg"]
      }
    ]
  }
];

/* â€”â€”â€” YÄ±llarÄ± ve etkinlikleri DOMâ€™a bas â€”â€”â€” */
const yearsEl = document.getElementById("years");
yearsEl.innerHTML = galleryData.map((y, yi) => `
  <div class="year-item">
    <div class="year-header" data-yi="${yi}">
      ${y.year} <span>+</span>
    </div>
    <div class="year-content" id="year-${yi}">
      ${y.events.map((ev, ei) => `
        <div class="event-item">
          <div class="event-header" data-yi="${yi}" data-ei="${ei}">
            ${ev.title} <span>+</span>
          </div>
          <div class="event-content" id="event-${yi}-${ei}">
            <div class="thumb-grid">
              ${ev.images.map((img, ii) => `
                <img src="${ev.folder}/${img}" 
                     data-yi="${yi}" data-ei="${ei}" data-ii="${ii}" 
                     alt="${ev.title} fotoÄŸrafÄ±">
              `).join("")}
            </div>
          </div>
        </div>
      `).join("")}
    </div>
  </div>
`).join("");

/* â€”â€”â€” Accordion davranÄ±ÅŸÄ±: yÄ±l ve etkinlik baÅŸlÄ±klarÄ± â€”â€”â€” */
document.querySelectorAll(".year-header").forEach(header => {
  header.addEventListener("click", () => {
    const yi = header.dataset.yi;
    const content = document.getElementById(`year-${yi}`);
    const expanded = content.style.display === "block";
    // diÄŸer yÄ±llarÄ± kapat
    document.querySelectorAll(".year-content").forEach(c => c.style.display = "none");
    document.querySelectorAll(".year-header span").forEach(s => s.textContent = "+");
    if (!expanded) { content.style.display = "block"; header.querySelector("span").textContent = "âˆ’"; }
  });
});

document.querySelectorAll(".event-header").forEach(header => {
  header.addEventListener("click", () => {
    const yi = header.dataset.yi, ei = header.dataset.ei;
    const content = document.getElementById(`event-${yi}-${ei}`);
    const expanded = content.style.display === "block";
    // aynÄ± yÄ±l iÃ§indeki diÄŸer etkinlikleri kapat
    header.closest(".year-content").querySelectorAll(".event-content").forEach(c => c.style.display = "none");
    header.closest(".year-content").querySelectorAll(".event-header span").forEach(s => s.textContent = "+");
    if (!expanded) { content.style.display = "block"; header.querySelector("span").textContent = "âˆ’"; }
  });
});

/* â€”â€”â€” Modal gÃ¶rÃ¼ntÃ¼leyici + indir â€”â€”â€” */
const modal = document.getElementById("modal");
const modalImage = document.getElementById("modalImage");
const photoTitle = document.getElementById("photoTitle");
let gY = 0, gE = 0, gI = 0; // aktif: year index, event index, image index

function openModal(yearIdx, eventIdx, imgIdx) {
  gY = yearIdx; gE = eventIdx; gI = imgIdx;
  showPhoto();
  modal.style.display = "flex";
}
function showPhoto() {
  const ev = galleryData[gY].events[gE];
  const src = `${ev.folder}/${ev.images[gI]}`;
  modalImage.src = src;
  photoTitle.textContent = `${galleryData[gY].year} â€¢ ${ev.title} (${gI+1}/${ev.images.length})`;
}
document.getElementById("closeModal").onclick = () => modal.style.display = "none";
document.getElementById("nextPhoto").onclick = () => { 
  const ev = galleryData[gY].events[gE];
  gI = (gI + 1) % ev.images.length; showPhoto();
};
document.getElementById("prevPhoto").onclick = () => { 
  const ev = galleryData[gY].events[gE];
  gI = (gI - 1 + ev.images.length) % ev.images.length; showPhoto();
};
document.getElementById("downloadPhoto").onclick = () => {
  const ev = galleryData[gY].events[gE];
  const src = `${ev.folder}/${ev.images[gI]}`;
  const a = document.createElement("a");
  a.href = src;
  a.download = ev.images[gI]; // dosya adÄ±yla indir
  document.body.appendChild(a);
  a.click();
  a.remove();
};
window.onclick = (e) => { if (e.target === modal) modal.style.display = "none"; };

/* Thumbnail click â†’ modal aÃ§ */
document.querySelectorAll(".thumb-grid img").forEach(img => {
  img.addEventListener("click", () => {
    openModal(parseInt(img.dataset.yi), parseInt(img.dataset.ei), parseInt(img.dataset.ii));
  });
});
</script>
</body>
</html>
